---
## Front matter
lang: ru-RU
title: Лабораторная Работа №2
subtitle: Измерение и тестирование пропускной способности сети. Интерактивный эксперимент.
author:
  - Козлов В.П.
institute:
  - Российский университет дружбы народов им. Патриса Лумумбы, Москва, Россия

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\makeatother'

## Fonts
mainfont: Arial
romanfont: Arial
sansfont: Arial
monofont: Arial
---


## Докладчик

  * Козлов Всеволод Павлович
  * НФИбд-02-22
  * Российский университет дружбы народов
  * [1132226428@pfur.ru]
  
# Выполнение лабораторной работы

## Цель работы

Основной целью работы является знакомство с инструментом для измерения
пропускной способности сети в режиме реального времени — iPerf3, а также
получение навыков проведения интерактивного эксперимента по измерению
пропускной способности моделируемой сети в среде Mininet.

## Задание

1. Установить на виртуальную машину mininet iPerf3 и дополнительное программное обеспечения для визуализации и обработки данных.
2. Провести ряд интерактивных экспериментов по измерению пропускной
способности с помощью iPerf3 с построением графиков.

## Подключился к машине по ssh

![Подключился к машине по ssh](image/1.png){ #fig:001 width=70% }

## Посмотрите IP-адреса машины

![IP-адреса машины](image/2.png){ #fig:002 width=70% }

## Устанлвил iperf3

![Установка iperf3](image/3.png){ #fig:003 width=70% }

## Установил необходимое дополнительное программное обеспечение

![Необходимое дополнительное программное обеспечение](image/4.png){ #fig:004 width=70% }

## Установил iperf3_plotter

![Установка iperf3_plotter](image/5.png){ #fig:005 width=70% }

## Простейшая топология, состоящая из двух хостов и коммутатора
с назначенной по умолчанию mininet сетью 10.0.0.0/8

![Топология из двух хостов и коммутатора](image/6.png){ #fig:006 width=70% }

## Проведем простейший интерактивный эксперимент по измерению пропускной способности с помощью iPerf3

![Простейший интерактивный эксперимент](image/7.png){ #fig:007 width=70% }

## Анализ

Проанализируем полученный в результате выполнения теста сводный отчёт, отобразившийся как на клиенте, так и на сервере iPerf3. Он содержет следующие данные:

- ID: идентификационный номер соединения -- 7.
- интервал (Interval): временной интервал для периодических отчетов о пропускной способности (по умолчанию временной интервал равен 1 секунде);
- передача (Transfer): сколько данных было передано за каждый интервал времени -- было пепредано от 1.98 до 2.39 GB в секунду;
- пропускная способность (Bitrate): измеренная пропускная способность в каждом временном интервале -- от 17 до 20.5 Gbit/sec;
- Retr: количество повторно переданных TCP-сегментов за каждый временной интервал (это поле увеличивается, когда TCP-сегменты теряются в сети из-за перегрузки или повреждения) -- чем больше пропускная способность, тем больше число повторно переданных  TCP-сегментов. Максимум она достигает 3 при битрейте 20.5 Gbit/sec;
- Cwnd: указывает размер окна перегрузки в каждом временном интервале (TCP использует эту переменную для ограничения объёма данных, которые TCP-клиент может отправить до получения подтверждения отправленных данных) -- это фиксированный параметр равный 8.09 MB.

## Проведем аналогичный эксперимент в интерфейсе mininet

![Аналогичный эксперимент в интерфейсе mininet](image/8.png){ #fig:008 width=70% }

## Анализ

Сравним результаты. Увидим, что во втором случае было передано на 4,8 GB больше; пропускная способность увеличилась на 4,1; потери пакетов все также нет.

## Эксперимент с указанием времени для передачи (по умол 5)

![Указание времени для передачи](image/9.png){ #fig:009 width=70% }

## Выполнение теста пропускной способности с 2-секундным интервалом времени отсчёта

![2-секундный интервал времени отсчёта](image/10.png){ #fig:010 width=70% }

## Анализ

Можно увидеть, что действительно интервал увеличился в два раза, в результате чего в два раза увеличился также вес переданный за один интервал времени, но пропускная способность и суммарные величины очевидно практически не изменились.

## Задал на клиенте iPerf3 отправку определённого объёма данных

![Отправка определённого объёма данных](image/11.png){ #fig:011 width=70% }

## Изменим в тесте протокол передачи данных с TCP на UDP

![Протокол передачи данных](image/12.png){ #fig:012 width=70% }

## Изменим номер порта для отправки/получения пакетов или датаграмм

![Номер порта](image/13.png){ #fig:013 width=70% }

## Параметр обработки данных только от одного клиента

![Параметр обработки данных только от одного клиента](image/14.png){ #fig:014 width=70% }

## Результат в формате json

![Результат в формате json](image/15.png){ #fig:015 width=70% }

## Сохраним результат в виде json

![Сохранение результата в виде json](image/16.png){ #fig:016 width=70% }

## Сгенерировал выходные данные для файла JSON iPerf3

![Генерация выходных данных](image/17.png){ #fig:017 width=70% }

## Просмотр сгенерированных файлов

![Просмотр сгенерированных файлов](image/18.png){ #fig:018 width=70% }

## Выводы

В результате выполнения данной лабораторной работы я познакомился с инструментом для измерения
пропускной способности сети в режиме реального времени — iPerf3, а также
получил навыки проведения интерактивного эксперимента по измерению
пропускной способности моделируемой сети в среде Mininet.